@use '@/styles/helpers' as *;

$colors-list: hsl(200, 53%, 30%), hsl(180, 43%, 56%), hsl(500, 53%, 30%), hsl(40, 90%, 60%), hsl(0, 87%, 62%), hsl(300, 30%, 42%);

#Skills {
  .wrapper {
    display: flex;
    flex-direction: row;
    height: 100vh;
    width: 100%;
  }

  .color {
    position: relative;
    display: flex;
    overflow: hidden;
    flex-direction: column;
    transition: all 0.5s 0.3s ease-in-out;
    text-align: center;
    justify-content: center;
    align-items: center;
    color: #fff;
    box-shadow: 0 0 30px #424242;
    overflow: hidden;
    flex: 1 0 0;
    @each $current-color in $colors-list {
      $i: index($colors-list, $current-color);
      &:nth-child(#{$i}) {
        background: $current-color;
      }
    }
    &:before {
      position: absolute;
      z-index: 1;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      content: '';
      transition: all 10s ease-out;
      transform: skew(45deg) scale(1) translate(0, 0);
      opacity: 0.05;
      background: #fff;
      pointer-events: none;
    }

    &:hover {
      flex-basis: 15%;
      &:before {
        transform: skew(45deg) scale(1.5) translate(0, 0);
      }
      .content-first {
        opacity: 0;
      }
      .content-short {
        opacity: 1;
      }
      .content-first,
      .content-short {
        transition: 0.5s 0.3s all ease-in-out;
      }
    }
    &:nth-child(even) {
      &:before {
        transform: skew(-45deg) scale(1) translate(0, 0);
      }
      &:hover {
        &:before {
          transform: skew(-45deg) scale(1) translate(0, 0);
        }
      }
    }
    .content-first,
    .content-short {
      position: absolute;
      transition: 1s all ease-in-out;
      pointer-events: none;
    }
    .content-first {
      opacity: 1;
      margin-top: 5rem;
    }
    .content-short {
      padding: 2rem;
      opacity: 0;
    }
  }
}

@include sm-and-down {
  #Skills {
    .wrapper {
      flex-direction: column;

      .color {
        &:hover {
          flex-basis: 50%;
        }

        .content-first {
          margin: 0;
          svg {
            display: none;
          }
        }
      }
    }
  }
}
